from fastapi import FastAPI
import joblib
from typing import Dict
from typing import List

# Tải mô hình
with open("../../models/SVM_model.pkl", "rb") as f:
    model = joblib.load(f)

def preprocess_input(input_str: str) -> List[float]:
    elements = input_str.split()  # Tách chuỗi theo khoảng trắng/tab
    features = [float(e) for e in elements]  # Chuyển sang số thực
    return features


text = "0.27853812	-0.016173432	-0.10970656	-0.99664602	-0.98297482	-0.99479797	-0.99694978	-0.98185178	-0.99345774	-0.9432431	-0.56678855	-0.82573272	0.8473295	0.68862147	0.84630959	-0.99362814	-0.99998027	-0.9998779	-0.9999176	-0.99697219	-0.97934131	-0.98890361	-0.66777064	-0.54961143	-0.63249215	0.22243952	0.07373902	-0.15933004	0.26568863	0.15828963	-0.080033696	0.16069144	-0.23547941	0.41995117	-0.27526089	0.36773977	-0.2733398	-0.28376706	0.10167474	-0.052470967	0.87478155	0.14485798	0.32053935	-0.99771429	-0.98795319	-0.99730555	-0.99793978	-0.98776196	-0.99733369	0.80180866	0.11586273	0.30950697	0.8963139	0.16504084	0.32193868	0.11148738	0.67258341	-0.94877602	-0.80386565	-0.99839758	-0.98798835	-0.99757904	-0.83012354	-0.63774569	-1	-0.28927242	0.31540433	-0.34202382	0.36922108	-0.28594459	0.21981483	-0.19912359	0.19929379	-0.39816454	0.4168477	-0.43531705	0.45102806	-0.93743229	-0.67729844	0.39294476	0.074515662	0.009269445	-0.010291722	-0.99277413	-0.99043365	-0.99643207	-0.99209142	-0.98948429	-0.99513383	-0.99321621	-0.99684083	-0.99643543	0.99321908	0.99093249	0.99477999	-0.99435586	-0.99992472	-0.99986234	-0.99994085	-0.98908257	-0.99046761	-0.99449209	-0.74826155	-0.7881567	-0.83064568	0.18416223	0.3186566	0.20429784	-0.003897673	0.20506635	0.14668138	0.40449123	0.24818433	0.35312674	-0.063430113	0.25783747	0.32149615	-0.16188	0.30020519	-0.17001535	-0.02633867	-0.074526058	0.092148536	-0.99878789	-0.99505467	-0.98844605	-0.99875639	-0.9952515	-0.98827101	-0.88568532	-0.95364902	-0.74803591	0.84720993	0.91324227	0.82462861	-0.99481263	-0.99999665	-0.99997534	-0.99987799	-0.99870877	-0.99590947	-0.9883175	-0.63903029	-0.52174535	-0.32183917	0.17631423	0.023380902	0.040705338	-0.093196295	0.14516154	-0.10731569	0.034380194	0.24840449	0.32788378	-0.31819791	0.21519945	-0.027440295	-0.52254507	0.15218733	-0.2179589	-0.10051458	-0.038433452	-0.057589453	-0.99777798	-0.99672581	-0.99565428	-0.99723405	-0.99683522	-0.9954214	-0.99778378	-0.99685678	-0.99570436	0.99843366	0.9973637	0.99536322	-0.99739888	-0.99998866	-0.99998667	-0.99996569	-0.99597679	-0.99694186	-0.99466795	-0.81822431	-0.6954985	-0.68840598	0.26837805	0.16816455	0.35272524	0.056110655	0.16913515	0.056598066	0.1608926	-0.000367516	0.48697942	-0.17330898	0.31880643	-0.008363215	-0.24673398	0.15015028	-0.091204423	-0.99414636	-0.99825604	-0.99843348	-0.99355314	-0.99785034	-0.99414636	-0.99992743	-0.99732715	-0.87549047	0.5108614	-0.42574958	0.35734481	-0.35834366	-0.99414636	-0.99825604	-0.99843348	-0.99355314	-0.99785034	-0.99414636	-0.99992743	-0.99732715	-0.87549047	0.5108614	-0.42574958	0.35734481	-0.35834366	-0.99431393	-0.99816169	-0.99753618	-0.99906386	-0.98360817	-0.99431393	-0.99992339	-0.99606896	-0.94628423	0.35551937	-0.23232899	0.12901199	-0.42878617	-0.99465856	-0.99446094	-0.99332226	-0.99607679	-0.99548896	-0.99465856	-0.99996017	-0.99319478	-0.54294971	0.33799654	-0.44246121	0.36280021	-0.17808361	-0.99745873	-0.99810576	-0.99836157	-0.99748155	-0.9881965	-0.99745873	-0.9999873	-0.99876891	-0.85347717	0.37530875	-0.37104523	-0.077855993	0.034861528	-0.99558307	-0.98676236	-0.99486711	-0.99716899	-0.98105499	-0.99425455	-0.99579336	-0.98860705	-0.99360142	-0.99811357	-0.97652234	-0.99200132	-0.99708089	-0.9920643	-0.99628879	-0.99511982	-0.99997982	-0.99968549	-0.9999006	-0.99154424	-0.99136385	-0.99170925	-1	-0.94487044	-0.94419022	0.80645161	-1	-0.92307692	0.079523072	0.038019561	0.27015851	-0.66454709	-0.93791617	0.37919289	0.17676861	-0.59007658	-0.80260472	-0.99998969	-0.99997061	-0.99996553	-0.99973668	-0.99997011	-0.99987736	-0.99998503	-0.9999988	-0.99998547	-0.99989785	-0.99995041	-0.99998966	-0.9999858	-0.99979694	-0.99959674	-0.9999395	-0.99985772	-0.99981723	-0.99985859	-0.99987692	-0.99986165	-0.99996529	-0.99967646	-0.99981725	-0.99988203	-0.99990125	-0.99968069	-0.99984949	-0.99985817	-0.99989798	-0.99989442	-0.99993237	-0.99993616	-0.99975158	-0.99977545	-0.99988113	-0.999885	-0.99994154	-0.9999294	-0.99981439	-0.99988699	-0.99994828	-0.99398429	-0.98974683	-0.99521838	-0.99199723	-0.99210024	-0.99623512	-0.99242973	-0.99229093	-0.99591272	-0.98835479	-0.99227296	-0.99403082	-0.99747745	-0.98810833	-0.99375525	-0.99426792	-0.99992458	-0.99986231	-0.99994096	-0.99128564	-0.99236775	-0.99339156	-1	-1	-1	0.12	-0.08	-0.2	0.22729442	0.12660334	0.11905236	0.30872533	0.079418416	-0.51471298	-0.89257552	-0.59001714	-0.8398502	-0.99998935	-0.99996594	-0.99996517	-0.99971031	-0.99996708	-0.99983477	-0.99997124	-0.99999906	-0.9999748	-0.99985541	-0.99992366	-0.99997159	-0.99997115	-0.99974687	-0.99995174	-0.99995537	-0.99980616	-0.99980156	-0.99987425	-0.99982079	-0.99986544	-0.99991182	-0.999955	-0.99977409	-0.99986848	-0.9998753	-0.99988396	-0.9998468	-0.99986894	-0.99991383	-0.99987706	-0.99992677	-0.99993261	-0.99970397	-0.99973016	-0.99997811	-0.99991306	-0.99993087	-0.99986699	-0.99974212	-0.99991846	-0.99992939	-0.99784433	-0.99491883	-0.99111527	-0.99915562	-0.99509502	-0.9884377	-0.99882004	-0.99553483	-0.99153346	-0.99884065	-0.99591849	-0.98763385	-0.99813247	-0.99541994	-0.9967536	-0.99583165	-0.99999691	-0.99997485	-0.99988147	-0.99679529	-0.99658544	-0.99540747	-1	-0.80828724	-0.84206336	-0.8	-0.67741935	-1	0.51570841	0.012158485	0.02136734	-0.62633202	-0.84122188	-0.42198234	-0.79697616	0.28212422	-0.015433377	-0.99999754	-0.99999915	-0.99998684	-0.99998049	-0.99996978	-0.99998947	-0.99998383	-0.9999922	-0.99999783	-0.99998353	-0.99997616	-0.99998754	-0.99999744	-0.99997998	-0.99996412	-0.99999663	-0.99999479	-0.99998942	-0.99998509	-0.99997054	-0.99997406	-0.99999323	-0.99997446	-0.99999218	-0.99998236	-0.99997887	-0.99997442	-0.99998688	-0.99988317	-0.99998167	-0.9999819	-0.99996473	-0.99998365	-0.99986228	-0.99991949	-0.99994083	-0.9998847	-0.99996833	-0.99995677	-0.99992898	-0.99988465	-0.99996416	-0.99760147	-0.99838757	-0.99810681	-0.99815158	-0.99142756	-0.99760147	-0.99998071	-0.99818734	-1	-0.86206897	0.529142	-0.6956011	-0.88314744	-0.99779274	-0.99754113	-0.99633145	-0.99751303	-0.98839278	-0.99779274	-0.9999774	-0.99524425	-1	-0.58730159	0.65734523	-0.76601984	-0.93593558	-0.99603154	-0.99405488	-0.99491589	-0.99396622	-0.99581819	-0.99603154	-0.9999651	-0.99702363	-0.87235403	-1	0.063502947	-0.19867966	-0.58418213	-0.99811099	-0.99784862	-0.99737014	-0.99842974	-0.99488412	-0.99811099	-0.99999249	-0.99672798	-1	-0.93650794	0.33432718	-0.65934101	-0.91519949	-0.10809173	0.37117217	-0.50042806	0.45499243	-0.64625395	-0.016451134	-0.20766551"
data = preprocess_input(text)
import numpy as np
data_2d = np.array(data).reshape(1, -1)
prediction = model.predict(data_2d)
print(prediction)